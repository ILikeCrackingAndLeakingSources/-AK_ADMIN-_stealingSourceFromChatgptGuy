-- Create the GUI elements
local player = game.Players.LocalPlayer
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0.3, 0, 0.4, 0)
frame.Position = UDim2.new(0.35, 0, 0.3, 0)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BackgroundTransparency = 0.5
frame.BorderSizePixel = 0
frame.ClipsDescendants = true
frame.Parent = screenGui

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = frame

local closeButton = Instance.new("TextButton")
closeButton.Size = UDim2.new(0.1, 0, 0.1, 0)
closeButton.Position = UDim2.new(0.9, 0, 0, 0)
closeButton.Text = "X"
closeButton.TextColor3 = Color3.fromRGB(255, 0, 0)
closeButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
closeButton.BorderSizePixel = 0
closeButton.Parent = frame

local openButton = Instance.new("TextButton")
openButton.Size = UDim2.new(0.1, 0, 0.1, 0)
openButton.Position = UDim2.new(0.9, 0, 0, 0)
openButton.Text = "+"
openButton.TextColor3 = Color3.fromRGB(0, 255, 0)
openButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
openButton.BorderSizePixel = 0
openButton.Visible = false
openButton.Parent = screenGui

local scrollFrame = Instance.new("ScrollingFrame")
scrollFrame.Size = UDim2.new(1, -10, 0.85, -10)
scrollFrame.Position = UDim2.new(0, 5, 0.1, 5)
scrollFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
scrollFrame.ScrollBarThickness = 10
scrollFrame.BorderSizePixel = 0
scrollFrame.Parent = frame

local uiListLayout = Instance.new("UIListLayout")
uiListLayout.Parent = scrollFrame
uiListLayout.Padding = UDim.new(0, 5)
uiListLayout.SortOrder = Enum.SortOrder.LayoutOrder
uiListLayout.FillDirection = Enum.FillDirection.Vertical

local textLabel = Instance.new("TextLabel")
textLabel.Size = UDim2.new(1, 0, 0.1, 0)
textLabel.Position = UDim2.new(0, 0, 0, 0)
textLabel.Text = "AK ADMIN COMMANDS"
textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
textLabel.BackgroundTransparency = 1
textLabel.TextScaled = true
textLabel.TextStrokeTransparency = 0.7
textLabel.TextSize = 28
textLabel.Parent = frame

-- Create the description box
local descriptionBox = Instance.new("TextLabel")
descriptionBox.Size = UDim2.new(0.3, 0, 0.2, 0)
descriptionBox.Position = UDim2.new(0.35, 0, 0.5, 0)
descriptionBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
descriptionBox.BackgroundTransparency = 0.7
descriptionBox.TextColor3 = Color3.fromRGB(255, 255, 255)
descriptionBox.TextWrapped = true
descriptionBox.TextSize = 14
descriptionBox.Text = ""
descriptionBox.Visible = false
descriptionBox.Parent = screenGui

-- Draggable functionality
local dragging = false
local dragInput, mousePos, framePos

frame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        dragInput = input
        mousePos = input.Position
        framePos = frame.Position
    end
end)

frame.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        local delta = input.Position - mousePos
        frame.Position = UDim2.new(framePos.X.Scale, framePos.X.Offset + delta.X, framePos.Y.Scale, framePos.Y.Offset + delta.Y)
    end
end)

frame.InputEnded:Connect(function(input)
    if input == dragInput then
        dragging = false
    end
end)

-- Close button functionality
closeButton.MouseButton1Click:Connect(function()
    frame.Visible = false
    openButton.Visible = true
end)

-- Open button functionality
openButton.MouseButton1Click:Connect(function()
    frame.Visible = true
    openButton.Visible = false
end)

-- Command list with descriptions
local commands = {
    {"/bring", "Executes a bring GUI that brings the players by floating under them."},
    {"/antilag", "Prevents lagging."},
    {"/antibang", "Prevents other exploiters from banging you."},
    {"/chaoshub", "Just a random hub."},
    {"/aimbot", "The command already explains."},
    {"/protonadmin", "Just another Admin script."},
    {"/triviabooth", "(Patched)"},
    {"/walkonwalls", "Rewrites gravity and lets you walk on any surface."},
    {"/MCfling", "touch the unanchored ball at the corner of the map. touch players and fling!(originally made fir Mic up but ig it works for other games too"},
    {"/chatquiz", "A very fun script that allows you to chat quizzes with other players."},
    {"/invis", "Invisibility toggle."},
    {"/bbhub", "(Patched)"},
    {"/getoutmyinv", "Drops all your items at once."},
    {"/platespin", "This command is for the game (Sword Fights on the Heights Original); the orange plates spin around you at a very fast speed. Click on the plates for it to work."},
    {"/kronefling", "Loopflings everyone."},
    {"/gimmetools", "Picks up every tool that was dropped by a player in the server."},
    {"/givepower (display name)", "gives the player you wish warning power.(/warns display name)"},
    {"/oof", "Respawns you and teleports you back at the same position."},
    {"/cmds", "The GUI for this script."},
    {"/antilog", "Prevents the game from logging your chat and screenshots."},
    {"/donttouchme", "Flings everyone that touches you."},
    {"/serverhop", "Hops servers."},
    {"/afk", "Pretty much doesnâ€™t kick you while being AFK."},
    {"/ftao", "For the game (Fling Things and Others)."},
    {"/iy", "Infinite yield admin."},
    {"/emoji", "Makes you able to chat emojis like in Discord (:skull)."},
    {"/f3x", "For the game (Sword Fights on the Heights Original). Makes you control the orange plates. You need to get f3x from /iy."},
    {"/bypasser", "Bypasses the chat filter."},
    {"/bladeball", "A bladeball script."},
    {"/nonofling", "Prevents other players from flinging you."},
    {"/swordreach", "Explains already."},
    {"/byebye all", "Flings everyone only once."},
    {"/pltiger", "A script for Prison Life."},
    {"/fps", "Boosts your FPS."},
    {"/rejoin", "Rejoin."},
    {"/warn all", "warns all player in the game Mic up."},
    {"/cmdbar", "a commandbar that lets you execute commands in without the chat and /."},
    {"/jobidjoiner", "just type in the game id and jobid and boom you joined the Player."},
    {"/walkonvoid", "Prevents you from getting killed by falling into the void."},
    {"/hkill all", "Kills everyone with your sword that does damage."},
    {"/serverhopmost", "Serverhops you to the server with most people in it"},
    {"/serverhoplow", "Serverhops you to the server with a low amount of players in it"},
    {"/chatbot", "Join the discord server, claim your points and enter the key. Enjoy!"},
}

-- Create buttons for each command
for i, commandData in ipairs(commands) do
    local command = commandData[1]
    local description = commandData[2]

    local button = Instance.new("TextButton")
    button.Size = UDim2.new(1, -10, 0, 40)
    button.Position = UDim2.new(0, 5, 0, (i - 1) * 45)
    button.Text = command
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    button.TextWrapped = true
    button.TextSize = 14
    button.BorderSizePixel = 0
    button.Parent = scrollFrame

    -- Show description on hover
    button.MouseEnter:Connect(function()
        descriptionBox.Text = description
        descriptionBox.Visible = true
    end)

    -- Hide description when not hovering
    button.MouseLeave:Connect(function()
        descriptionBox.Visible = false
    end)
end

-- Adjust the size of the scrolling frame to accommodate all buttons
local function updateScrollFrameSize()
    scrollFrame.CanvasSize = UDim2.new(0, 0, 0, uiListLayout.AbsoluteContentSize.Y)
end

-- Call the function to adjust size initially
updateScrollFrameSize()

-- Update size whenever the layout changes
uiListLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(updateScrollFrameSize)
