local isCopying = false

game.Players.LocalPlayer.Chatted:Connect(function(message)
    -- Check if the message starts with "/copy "
    if message:sub(1, 6) == "/copy " then
        -- Extract the command after "/copy "
        local command = message:sub(7)

            for i,v in pairs(game.Players:GetChildren()) do
                if v.Name:sub(1,#command):lower() == command:lower() or v.DisplayName:sub(1,#command):lower() == command:lower() then
            game:GetService("ReplicatedStorage").Notification.ModifyUserEvent:FireServer(v.Name)
     game:GetService("ReplicatedStorage").Notification.ModifyUserEvent:FireServer(v.DisplayName)
end
    end
            
            
        -- If the command is "all", start copying all usernames continuously
        if command == "all" then
            if not isCopying then
                isCopying = true
                print("Started copying usernames of all players in the server.")

                -- Loop continuously
                while isCopying do
                    -- Table to store usernames of all players
                    local allUsernames = {}

                    -- Loop through all players in the server
                    for _, player in pairs(game.Players:GetPlayers()) do
                        -- Add the real username to the table
                        table.insert(allUsernames, player.Name)
                    end

                    -- Send each username to the server
                    for _, realUsername in ipairs(allUsernames) do
                        game:GetService("ReplicatedStorage").Notification.ModifyUserEvent:FireServer(realUsername)
                    end

                    wait() -- Wait for 0.5 seconds before the next copy cycle (adjust as needed)
                end

            else
                warn("Already copying usernames. Use '/uncopy' to stop.")
            end

        else
            warn("Invalid command. Use '/copy all' to copy all usernames.")
        end

    elseif message == "/uncopy" then
        if isCopying then
            isCopying = false
            print("Stopped copying usernames.")
        else
            warn("Not currently copying usernames.")
        end
    end
end)
