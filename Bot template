if _G.AKAdminLoaded then
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "AK ADMIN",
        Text = "Script is already running!",
        Duration = 5
    })
    return
end

_G.AKAdminLoaded = true

local function RemoveAtmosphereAndSetFog()
    local Lighting = game:GetService("Lighting")
    Lighting.FogEnd = 100000
    
    for _, v in pairs(Lighting:GetDescendants()) do
        if v:IsA("Atmosphere") then
            v:Destroy()
        end
    end
end

-- Call the function
RemoveAtmosphereAndSetFog()

-- Script A (loadstring script)

local success, result = pcall(function()
    return loadstring(game:HttpGet(""))()
end)
local success, result = pcall(function()
    return loadstring(game:HttpGet(""))()
end)
local success, result = pcall(function()
    return loadstring(game:HttpGet("https://raw.githubusercontent.com/Alikhammass/MyAdmin/refs/heads/main/Lookat"))()
end)
local success, result = pcall(function()
    return loadstring(game:HttpGet("https://raw.githubusercontent.com/Alikhammass/MyAdmin/refs/heads/main/firebutton"))()
end)
local success, result = pcall(function()
    return loadstring(game:HttpGet("https://raw.githubusercontent.com/Alikhammass/MyAdmin/refs/heads/main/goto.luau"))()
end)
local success, result = pcall(function()
    return loadstring(game:HttpGet("https://raw.githubusercontent.com/Alikhammass/MyAdmin/refs/heads/main/copyavatar"))()
end)

if not success then
    warn("Failed to load script: " .. tostring(result))
else
    print("Script loaded successfully!")
end

local player = game.Players.LocalPlayer
local oldChat = game.ReplicatedStorage:FindFirstChild("DefaultChatSystemChatEvents")

local function Chat(msg)
	if oldChat then
		game.ReplicatedStorage.DefaultChatSystemChatEvents.SayMessageRequest:FireServer(msg, "All")
	else
		game.TextChatService.TextChannels.RBXGeneral:SendAsync(msg)
	end
end

loadstring(game:HttpGet("https://raw.githubusercontent.com/Alikhammass/MyAdmin/refs/heads/main/loadownercmds.luau"))()


loadstring(game:HttpGet("https://raw.githubusercontent.com/Alikhammass/MyAdmin/refs/heads/main/loadhook.luau"))()

local player = game.Players.LocalPlayer;
local playerName = player.Name;
local function showNotification(message, backgroundColor)
	local gui = Instance.new("ScreenGui");
	gui.Name = "Notification";
	gui.Parent = player.PlayerGui;
	local frame = Instance.new("Frame");
	frame.Size = UDim2.new(1, 0, 1, 0);
	frame.BackgroundColor3 = backgroundColor;
	frame.Parent = gui;
	local messageLabel = Instance.new("TextLabel");
	messageLabel.Size = UDim2.new(1, 0, 1, 0);
	messageLabel.Position = UDim2.new(0, 0, 0, 0);
	messageLabel.Text = message;
	messageLabel.TextSize = 36;
	messageLabel.Parent = frame;
	repeat
		wait(1);
		isWhitelisted = false;
		for _, whitelistedUser in ipairs(whitelistedPlayers) do
			if (playerName:lower() == whitelistedUser:lower()) then
				isWhitelisted = true;
				break;
			end
		end
	until isWhitelisted 
	gui:Destroy();
end
local isWhitelisted = false;
for _, whitelistedUser in ipairs(getgenv().whitelistedPlayers) do
	if (playerName:lower() == whitelistedUser:lower()) then
		isWhitelisted = true;
		break;
	end
end
if not isWhitelisted then
	local function kickPlayer()
		game.Players.LocalPlayer:Kick("You are not whitelisted. Buy the script.");
	end
	kickPlayer();
	print("You are not whitelisted. Execute non-whitelisted logic here.");
else
	loadstring(game:HttpGet("https://raw.githubusercontent.com/Alikhammass/MyAdmin/refs/heads/main/AK%20intro"))();
	loadstring(game:HttpGet("https://raw.githubusercontent.com/Alikhammass/MyAdmin/refs/heads/main/Ak%20Update%20logs%20gui"))();
		-- Welcome notification
loadstring(game:HttpGet("https://raw.githubusercontent.com/Alikhammass/MyAdmin/refs/heads/main/loadcmds.luau"))()

loadstring(game:HttpGet("https://raw.githubusercontent.com/Alikhammass/MyAdmin/refs/heads/main/loadplayertags.luau"))()
-- Define commands with URLs
-- Create a GUI for the command bar
loadstring(game:HttpGet("https://raw.githubusercontent.com/Alikhammass/MyAdmin/refs/heads/main/allcmds.luau"))()
      
	end
